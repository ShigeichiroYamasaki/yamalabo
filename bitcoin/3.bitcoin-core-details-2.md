# 3. bitcoin core の詳細-2

2024/05/30  更新 Shigeichiro Yamasaki

## 各種トランザクションの構成を一連の流れで演習します

以下のように，合計で８個のトランザクションを作成します．

ubuntu での実施を前提にします．

```

(UTXOの資金)--> TX1 -+-->0.0002BTC VOUT:0 -->TX2(P2PK)  --> 0.00018BTC-+
                    +-->0.0002BTC VOUT:1 -->TX3(P2PKH) --> 0.00018BTC-+
                    +-->0.0002BTC VOUT:2 -->TX4(P2SH)  --> 0.00018BTC-+
                    +-->0.0002BTC VOUT:3 -->TX5(P2WPKH)--> 0.00018BTC-+
                    +-->0.0002BTC VOUT:4 -->TX6(P2WSH) --> 0.00018BTC-+
                    +-->0.0002BTC VOUT:5 -->TX7(P2TR)  --> 0.00018BTC-+--> TX8
                    +-->おつり
```

0. 事前にsignetのfaucet から0.002 BTC 以上のビットコインを得ておきます。
1. TX1 faucetから得たUTXOをinputとして 7個のoutputを持つトランザクション (TX1) を作成し，署名して，ブロードキャストする
2. 6個のUTXOを利用して，6個のトランザクション (TX2 ~ TX7) を作成しそれぞれ署名して，ブロードキャストする

    ★ (TX2 ~ TX7) はそれぞれP2PK, P2PKH, P2SH, P2WPKH, P2WSH の5つのタイプのoutputを持つ
3. 6個のタイプの異なるUTXOをinputとして，１個のUTXOにまとめるトランザクション TX8 を作成する
    ★ P2SH, P2WSH のUTXOをワレットに認識させる必要があります。


## 目次

* [TX8: 6種類の UTXO を inputとするトランザクションの作成](#TX8)



## <a id="TX8">TX8: 6種類の UTXO を inputとするトランザクションの作成 </a>

### UTXOの確認

この時点で　bitcoin core のワレット機能でUTXOとして確認可能なものは　P2PK, P2PKH, P2WPKH, PtTR  のoutputだけです。

P2SH と P2WSH のUTXOは，ワレットには認識されません。

```bash
bitcoin-core.cli listunspent

=>
[
  {
    "txid": "f66f7c67f0e2edab7d27d316662c31a9a5f33fe68dd9725854fe04bb7f23563f",
    "vout": 0,
    "address": "mzYqU8jSicpwstG9rA7jBrjgLVkzDPjo8J",
    "label": "user_p2pkh",
    "scriptPubKey": "76a914d0c58609bfeafe97668feab8f356eccc78346c0588ac",
    "amount": 0.00018000,
    "confirmations": 18,
    "spendable": true,
    "solvable": true,
    "desc": "pkh([937090de/44h/1h/0h/0/0]03ca43b85715c22f748684bdf20870b0b5a858a69178a21b4a957ddfcbafea57d8)#l9r8akhc",
    "parent_descs": [
      "pkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/44h/1h/0h/0/*)#gg0qedgx"
    ],
    "safe": true
  },
  {
    "txid": "0bec2ecf9561b081d13d4dd6909a79114fdd3b9d9bfcc515cf9de96ccb31aa2c",
    "vout": 0,
    "address": "tb1qjf9kvs5k698luqwhkl9jqtdujwnwrx0250mnda",
    "label": "bech32",
    "scriptPubKey": "0014924b664296d14ffe01d7b7cb202dbc93a6e199ea",
    "amount": 0.00018000,
    "confirmations": 18,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/23]028cc0c1f80aefad0aac92be01ca0f450818e4dca5e3c5b60e3849b6e5f032b9ac)#hulp44e3",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 6,
    "address": "tb1qflzrst6q7pd5mfswluhruv8twqnpm49lqrhs9y",
    "label": "",
    "scriptPubKey": "00144fc4382f40f05b4da60eff2e3e30eb70261dd4bf",
    "amount": 0.00878000,
    "confirmations": 73,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/0]031180c3c30b662433e49e7a81049361dbbfff662cef4256fbcbee403875f43b33)#9wux8ep7",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "0903ffacbb7f212d81902d54979409610dc4b2c594a66789f35866d14f4e3dc1",
    "vout": 0,
    "address": "tb1pzwmas3lmkrn63wtgulylmtx79fvg3x5e0d6u9g50l3y8c3k0hvxqez8qxa",
    "label": "",
    "scriptPubKey": "512013b7d847fbb0e7a8b968e7c9fdacde2a58889a997b75c2a28ffc487c46cfbb0c",
    "amount": 0.00018000,
    "confirmations": 11,
    "spendable": true,
    "solvable": true,
    "desc": "tr([937090de/86h/1h/0h/0/2]ca1c9ea413d7508a75862b8b400ae90b18e79cfc6578c214a6df413c7d52fd03)#6gvty8zd",
    "parent_descs": [
      "tr(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/86h/1h/0h/0/*)#fyp9rl55"
    ],
    "safe": true
  }
]

```

### bitcoin core のワレットにマルチシグ情報を登録する

P2SHとP2WSHのマルチシグアドレス生成時に生成された descriptorを利用する

* P2SHのdescriptor

```bash
echo $P2SH_DESCRIPTOR

=>
sh(multi(2,037032106297741808e66c947dab836f3f3c28189596331e48861304674e2583d0,0210c7796ac91075ff6d4708319094707a976d265263cac42cc535104803439f84,0359ee82a3b3ec86bc8c29c149cacde7af2e00cd8952ee5767d6c221a2807c4094))#c968pfza
```

* P2WSHのdescriptor

```bash
echo $P2WSH_DESCRIPTOR

=>
wsh(multi(2,037032106297741808e66c947dab836f3f3c28189596331e48861304674e2583d0,0210c7796ac91075ff6d4708319094707a976d265263cac42cc535104803439f84,0359ee82a3b3ec86bc8c29c149cacde7af2e00cd8952ee5767d6c221a2807c4094))#04tn9tty
```

一般的には，マルチシグは複数の主体のワレットで署名しなければなりません。
この例では，単純化のために署名に必要なすべての秘密鍵が一つのワレットに入っています。

```
importdescriptors 

[
  {                                    (json object)
    "desc": "str",                     (string, required) Descriptor to import.
    "active": bool,                    (boolean, optional, default=false) Set this descriptor to be the active descriptor for the corresponding output type/externality
    "range": n or [n,n],               (numeric or array) If a ranged descriptor is used, this specifies the end or the range (in the form [begin,end]) to import
    "next_index": n,                   (numeric) If a ranged descriptor is set to active, this specifies the next index to generate addresses from
    "timestamp": timestamp | "now",    (integer / string, required) Time from which to start rescanning the blockchain for this descriptor, in UNIX epoch time
                                       Use the string "now" to substitute the current synced blockchain time.
                                       "now" can be specified to bypass scanning, for outputs which are known to never have been used, and
                                       0 can be specified to scan the entire blockchain. Blocks up to 2 hours before the earliest timestamp
                                       of all descriptors being imported will be scanned.
    "internal": bool,                  (boolean, optional, default=false) Whether matching outputs should be treated as not incoming payments (e.g. change)
    "label": "str",                    (string, optional, default='') Label to assign to the address, only allowed with internal=false
  },
  ...
]


```

JSON形式のインポート情報(descriptor)

```bash
echo "[{\"desc\": \"$P2SH_DESCRIPTOR\", \"timestamp\": \"now\"}]"

=>
[{"desc": "sh(multi(2,037032106297741808e66c947dab836f3f3c28189596331e48861304674e2583d0,0210c7796ac91075ff6d4708319094707a976d265263cac42cc535104803439f84,0359ee82a3b3ec86bc8c29c149cacde7af2e00cd8952ee5767d6c221a2807c4094))#c968pfza", "timestamp": "now"}]
```

```bash
bitcoin-core.cli importdescriptors "[{\"desc\": \"$P2SH_DESCRIPTOR\", \"timestamp\": \"now\", "internal": true}]"

=>
 [
  {
    "success": true
  }
]
```

```bash
bitcoin-core.cli importmulti '[{"desc": "wsh(multi(2,0380204524e4cf427a5a5da5826b531bc327c869230118433c5ab503544d1c1a65,03efe8c25a79d87030ca57d1a630afd214bd7058563dcb35aee31f82bda571955b,0290d9f66da40f2c4962b20d5a1e3ad6a3694fdfc60fef4df1126a9d54984b9e0b))#ezclpasq","timestamp": "now", "watchonly": true}]'

[
  {
    "success": true
  }
]
```

### これでワレットがP2SH, P2WSH を含めたすべてのUTXOを確認できるようになる

```bash
bitcoin-core.cli listunspent
=>
[
  {
    "txid": "aa9d14b180f967d85f579b7d90151e5f6f5c7dbf81198d2ca0411fbcb119470a",
    "vout": 0,
    "address": "tb1q9ejzgpj47rpt6j86c2epvzgz654caek2ga36tn",
    "label": "",
    "scriptPubKey": "00142e64240655f0c2bd48fac2b2160902d52b8ee6ca",
    "amount": 0.00018000,
    "confirmations": 4,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([b6437264/0'/0'/98']031b6f543a2a7ddd2b1358a2b1bdbef666cb302904b53dfc2f066889e914e4bb5b)#jvqdyz33",
    "safe": true
  },

  {
    "txid": "6ae4c0efb1ff8612f649cf673450d78a565e1b5788c678f22ae28ae8711e3ec2",
    "vout": 0,
    "address": "mmZSyUyxaZJJNXCviNmUcg2jJ5KfSUJMZt",
    "label": "user3",
    "scriptPubKey": "76a914424986ff15df8a17a04f2b07520f0ef1dc9b742288ac",
    "amount": 0.00018000,
    "confirmations": 12,
    "spendable": true,
    "solvable": true,
    "desc": "pkh([b6437264/0'/0'/97']0222e18123552767a58da9f3749a4fd014fe991be3469d0ee01618080734ec6701)#24jv8ctw",
    "safe": true
  },
  {
    "txid": "08701c7f0d4db0dd5da01df4ad750e6819de718abe1ea32d917241a89c88379c",
    "vout": 0,
    "address": "mgX9TGp5SxT6jczaKhf6fVDUdfsg1m45wf",
    "scriptPubKey": "21027544b898d2d886a7ee733f2cf3da01bfd5d2350fedf602f4d1b78412b5f4d851ac",
    "amount": 0.00016000,
    "confirmations": 1,
    "spendable": true,
    "solvable": true,
    "desc": "pk([60d80dee/0'/0'/35']027544b898d2d886a7ee733f2cf3da01bfd5d2350fedf602f4d1b78412b5f4d851)#24lz4ah2",
    "safe": true
  },
  {
    "txid": "89f1855f19cf3280aa842d1cb1e38442e98a47c475a1a340813bed5536f2ec6e",
    "vout": 0,
    "address": "tb1qengwkeelq2wt3hras63jy03kgpdrxag22sx0ymzugqqnu83hcqsqk3wekc",
    "label": "",
    "witnessScript": "52210380204524e4cf427a5a5da5826b531bc327c869230118433c5ab503544d1c1a652103efe8c25a79d87030ca57d1a630afd214bd7058563dcb35aee31f82bda571955b210290d9f66da40f2c4962b20d5a1e3ad6a3694fdfc60fef4df1126a9d54984b9e0b53ae",
    "scriptPubKey": "0020ccd0eb673f029cb8dc7d86a3223e36405a33750a540cf26c5c40013e1e37c020",
    "amount": 0.00018000,
    "confirmations": 3,
    "spendable": false,
    "solvable": true,
    "desc": "wsh(multi(2,[82c79c5c]0380204524e4cf427a5a5da5826b531bc327c869230118433c5ab503544d1c1a65,[3e282d87]03efe8c25a79d87030ca57d1a630afd214bd7058563dcb35aee31f82bda571955b,[b949ba0d]0290d9f66da40f2c4962b20d5a1e3ad6a3694fdfc60fef4df1126a9d54984b9e0b))#4cr4ee97",
    "safe": true
  },
    {
    "txid": "a0faa783f92fdb8bdee3e134f92ce1a163c36a4574ff494985e54665b2a70d41",
    "vout": 0,
    "address": "2NAJZRpUeBUycwZHrcDRKsyufsUx25Djgw2",
    "label": "",
    "redeemScript": "52210237a1e78baa7be5389c51f1836fb3b52c7163ea869281559c8ac94e69898793d42103ab2e94ae215cb3bdba9269588f32c8df33c2140a554149850e01aa18b2bea645210345e92ef8d7d03efce3878360b0fc57bb82d5d291e9e483c296f409165b80121b53ae",
    "scriptPubKey": "a914bb1b9d3762f5964beb822227eca7896c834b777587",
    "amount": 0.00018000,
    "confirmations": 4,
    "spendable": true,
    "solvable": true,
    "desc": "sh(multi(2,[6170057b]0237a1e78baa7be5389c51f1836fb3b52c7163ea869281559c8ac94e69898793d4,[f5d793b3]03ab2e94ae215cb3bdba9269588f32c8df33c2140a554149850e01aa18b2bea645,[a332ac29]0345e92ef8d7d03efce3878360b0fc57bb82d5d291e9e483c296f409165b80121b))#yqy68cgc",
    "safe": true
  }
]
```

### 送金先と金額

```bash
bitcoin-core.cli getnewaddress 
=>
tb1qhj7y9rup50pqnuckuqluge63enffguymm7j5ue
```

送金金額：0.00088-0.00002=0.00086

### 6つのinputを持つ未署名のトランザクションの作成

P2PK, P2PKH, P2SH,P2WPKH,P2WSH の順で作成する

```bash
bitcoin-core.cli createrawtransaction  '[{"txid":"08701c7f0d4db0dd5da01df4ad750e6819de718abe1ea32d917241a89c88379c","vout":0},{"txid":"6ae4c0efb1ff8612f649cf673450d78a565e1b5788c678f22ae28ae8711e3ec2","vout":0},{"txid":"a0faa783f92fdb8bdee3e134f92ce1a163c36a4574ff494985e54665b2a70d41","vout":0},{"txid":"aa9d14b180f967d85f579b7d90151e5f6f5c7dbf81198d2ca0411fbcb119470a","vout":0},{"txid":"89f1855f19cf3280aa842d1cb1e38442e98a47c475a1a340813bed5536f2ec6e","vout":0}]'  '[{"tb1qhj7y9rup50pqnuckuqluge63enffguymm7j5ue": 0.00086}]'
=>
02000000059c37889ca84172912da31ebe8a71de19680e75adf41da05dddb04d0d7f1c70080000000000ffffffffc23e1e71e88ae22af278c688571b5e568ad7503467cf49f61286ffb1efc0e46a0000000000ffffffff410da7b26546e5854949ff74456ac363a1e12cf934e1e3de8bdb2ff983a7faa00000000000ffffffff0a4719b1bc1f41a02c8d1981bf7d5c6f5f1e15907d9b575fd867f980b1149daa0000000000ffffffff6eecf23655ed3b8140a3a175c4478ae94284e3b11c2d84aa8032cf195f85f1890000000000ffffffff01f04f010000000000160014bcbc428f81a3c209f316e03fc46751ccd294709b00000000
```

### トランザクションへの署名

実際の運用では，マルチシグは複数の主体のワレットで順番に署名する必要があります。

```bash
bitcoin-core.cli signrawtransactionwithwallet 02000000059c37889ca84172912da31ebe8a71de19680e75adf41da05dddb04d0d7f1c70080000000000ffffffffc23e1e71e88ae22af278c688571b5e568ad7503467cf49f61286ffb1efc0e46a0000000000ffffffff410da7b26546e5854949ff74456ac363a1e12cf934e1e3de8bdb2ff983a7faa00000000000ffffffff0a4719b1bc1f41a02c8d1981bf7d5c6f5f1e15907d9b575fd867f980b1149daa0000000000ffffffff6eecf23655ed3b8140a3a175c4478ae94284e3b11c2d84aa8032cf195f85f1890000000000ffffffff01f04f010000000000160014bcbc428f81a3c209f316e03fc46751ccd294709b00000000
=>
{
  "hex": "020000000001059c37889ca84172912da31ebe8a71de19680e75adf41da05dddb04d0d7f1c7008000000004847304402207af64ee819d4508afd2d87845f9b0b45bfff4d3b8b48ef6254696c6594e456f8022002754510969fc71f0d1e7dbff0fb7de5c1a3791fcaa510843b41f212238069cd01ffffffffc23e1e71e88ae22af278c688571b5e568ad7503467cf49f61286ffb1efc0e46a000000006a4730440220263aa6dbd8408800e6a02c9085ea6a444b2ab78891792eb57f49f4ade581431602207a5b3f18270f2ec0de58b07d6c274954aacb627eca381e568d937411feaf083401210222e18123552767a58da9f3749a4fd014fe991be3469d0ee01618080734ec6701ffffffff410da7b26546e5854949ff74456ac363a1e12cf934e1e3de8bdb2ff983a7faa000000000fc0047304402206e60f211d72c34c16be004e756ed490c5c79d376c479c146512c2487069781c602200473c8442b507fea1b7ee7274431698278c9893a8da1b6734ca444df7b2102aa0147304402200d844c231012bcc36a0774adf8677b948dd841838ae3ebb750ed497fc2a71314022073eace5173560c9f72bef661cbf80ea8f6594bb80bd4aa0c0d8eb96cb312cc6f014c6952210237a1e78baa7be5389c51f1836fb3b52c7163ea869281559c8ac94e69898793d42103ab2e94ae215cb3bdba9269588f32c8df33c2140a554149850e01aa18b2bea645210345e92ef8d7d03efce3878360b0fc57bb82d5d291e9e483c296f409165b80121b53aeffffffff0a4719b1bc1f41a02c8d1981bf7d5c6f5f1e15907d9b575fd867f980b1149daa0000000000ffffffff6eecf23655ed3b8140a3a175c4478ae94284e3b11c2d84aa8032cf195f85f1890000000000ffffffff01f04f010000000000160014bcbc428f81a3c209f316e03fc46751ccd294709b0000000247304402200e9082682885eacee1f8c5381aa022d709af7ce2b5d36d2392c6756cd80c28ac0220358b6b255401ffcaa0d593715b85245fbe9a525a0ebe64793a41d017e816341f0121031b6f543a2a7ddd2b1358a2b1bdbef666cb302904b53dfc2f066889e914e4bb5b040047304402206267cf7c180d2f1245955fbee57ae657cba0dc82e6a253d1b8ffbc3915af3df302203e2c1d241e8c152436d7fbc01b36beca1b98e98be990b03845c4d21a62b0d685014730440220278a80c5d9cf17b6e3486788dca63262407ab4999eb79521b92e18bb5a368ee002206139aabd54bf82e3482200e1c7c6940ef67045735198dcb6d2a99ab1828b4680016952210380204524e4cf427a5a5da5826b531bc327c869230118433c5ab503544d1c1a652103efe8c25a79d87030ca57d1a630afd214bd7058563dcb35aee31f82bda571955b210290d9f66da40f2c4962b20d5a1e3ad6a3694fdfc60fef4df1126a9d54984b9e0b53ae00000000",
  "complete": true
}
```

### 作成したトランザクションの構造

```bash
bitcoin-core.cli decoderawtransaction 020000000001059c37889ca84172912da31ebe8a71de19680e75adf41da05dddb04d0d7f1c7008000000004847304402207af64ee819d4508afd2d87845f9b0b45bfff4d3b8b48ef6254696c6594e456f8022002754510969fc71f0d1e7dbff0fb7de5c1a3791fcaa510843b41f212238069cd01ffffffffc23e1e71e88ae22af278c688571b5e568ad7503467cf49f61286ffb1efc0e46a000000006a4730440220263aa6dbd8408800e6a02c9085ea6a444b2ab78891792eb57f49f4ade581431602207a5b3f18270f2ec0de58b07d6c274954aacb627eca381e568d937411feaf083401210222e18123552767a58da9f3749a4fd014fe991be3469d0ee01618080734ec6701ffffffff410da7b26546e5854949ff74456ac363a1e12cf934e1e3de8bdb2ff983a7faa000000000fc0047304402206e60f211d72c34c16be004e756ed490c5c79d376c479c146512c2487069781c602200473c8442b507fea1b7ee7274431698278c9893a8da1b6734ca444df7b2102aa0147304402200d844c231012bcc36a0774adf8677b948dd841838ae3ebb750ed497fc2a71314022073eace5173560c9f72bef661cbf80ea8f6594bb80bd4aa0c0d8eb96cb312cc6f014c6952210237a1e78baa7be5389c51f1836fb3b52c7163ea869281559c8ac94e69898793d42103ab2e94ae215cb3bdba9269588f32c8df33c2140a554149850e01aa18b2bea645210345e92ef8d7d03efce3878360b0fc57bb82d5d291e9e483c296f409165b80121b53aeffffffff0a4719b1bc1f41a02c8d1981bf7d5c6f5f1e15907d9b575fd867f980b1149daa0000000000ffffffff6eecf23655ed3b8140a3a175c4478ae94284e3b11c2d84aa8032cf195f85f1890000000000ffffffff01f04f010000000000160014bcbc428f81a3c209f316e03fc46751ccd294709b0000000247304402200e9082682885eacee1f8c5381aa022d709af7ce2b5d36d2392c6756cd80c28ac0220358b6b255401ffcaa0d593715b85245fbe9a525a0ebe64793a41d017e816341f0121031b6f543a2a7ddd2b1358a2b1bdbef666cb302904b53dfc2f066889e914e4bb5b040047304402206267cf7c180d2f1245955fbee57ae657cba0dc82e6a253d1b8ffbc3915af3df302203e2c1d241e8c152436d7fbc01b36beca1b98e98be990b03845c4d21a62b0d685014730440220278a80c5d9cf17b6e3486788dca63262407ab4999eb79521b92e18bb5a368ee002206139aabd54bf82e3482200e1c7c6940ef67045735198dcb6d2a99ab1828b4680016952210380204524e4cf427a5a5da5826b531bc327c869230118433c5ab503544d1c1a652103efe8c25a79d87030ca57d1a630afd214bd7058563dcb35aee31f82bda571955b210290d9f66da40f2c4962b20d5a1e3ad6a3694fdfc60fef4df1126a9d54984b9e0b53ae00000000
=>
{
  "txid": "11f36ca7c4840c2cd24dd58d061bd30ccad3a8e0885920dd6daca9c855372756",
  "hash": "bd8acb3055541202a3de6fb53dfa5fe1d82e00b334ab7223884f9aa68c1f06f6",
  "version": 2,
  "size": 1040,
  "vsize": 767,
  "weight": 3068,
  "locktime": 0,
  "vin": [
    {
      "txid": "08701c7f0d4db0dd5da01df4ad750e6819de718abe1ea32d917241a89c88379c",
      "vout": 0,
      "scriptSig": {
        "asm": "304402207af64ee819d4508afd2d87845f9b0b45bfff4d3b8b48ef6254696c6594e456f8022002754510969fc71f0d1e7dbff0fb7de5c1a3791fcaa510843b41f212238069cd[ALL]",
        "hex": "47304402207af64ee819d4508afd2d87845f9b0b45bfff4d3b8b48ef6254696c6594e456f8022002754510969fc71f0d1e7dbff0fb7de5c1a3791fcaa510843b41f212238069cd01"
      },
      "sequence": 4294967295
    },
    {
      "txid": "6ae4c0efb1ff8612f649cf673450d78a565e1b5788c678f22ae28ae8711e3ec2",
      "vout": 0,
      "scriptSig": {
        "asm": "30440220263aa6dbd8408800e6a02c9085ea6a444b2ab78891792eb57f49f4ade581431602207a5b3f18270f2ec0de58b07d6c274954aacb627eca381e568d937411feaf0834[ALL] 0222e18123552767a58da9f3749a4fd014fe991be3469d0ee01618080734ec6701",
        "hex": "4730440220263aa6dbd8408800e6a02c9085ea6a444b2ab78891792eb57f49f4ade581431602207a5b3f18270f2ec0de58b07d6c274954aacb627eca381e568d937411feaf083401210222e18123552767a58da9f3749a4fd014fe991be3469d0ee01618080734ec6701"
      },
      "sequence": 4294967295
    },
    {
      "txid": "a0faa783f92fdb8bdee3e134f92ce1a163c36a4574ff494985e54665b2a70d41",
      "vout": 0,
      "scriptSig": {
        "asm": "0 304402206e60f211d72c34c16be004e756ed490c5c79d376c479c146512c2487069781c602200473c8442b507fea1b7ee7274431698278c9893a8da1b6734ca444df7b2102aa[ALL] 304402200d844c231012bcc36a0774adf8677b948dd841838ae3ebb750ed497fc2a71314022073eace5173560c9f72bef661cbf80ea8f6594bb80bd4aa0c0d8eb96cb312cc6f[ALL] 52210237a1e78baa7be5389c51f1836fb3b52c7163ea869281559c8ac94e69898793d42103ab2e94ae215cb3bdba9269588f32c8df33c2140a554149850e01aa18b2bea645210345e92ef8d7d03efce3878360b0fc57bb82d5d291e9e483c296f409165b80121b53ae",
        "hex": "0047304402206e60f211d72c34c16be004e756ed490c5c79d376c479c146512c2487069781c602200473c8442b507fea1b7ee7274431698278c9893a8da1b6734ca444df7b2102aa0147304402200d844c231012bcc36a0774adf8677b948dd841838ae3ebb750ed497fc2a71314022073eace5173560c9f72bef661cbf80ea8f6594bb80bd4aa0c0d8eb96cb312cc6f014c6952210237a1e78baa7be5389c51f1836fb3b52c7163ea869281559c8ac94e69898793d42103ab2e94ae215cb3bdba9269588f32c8df33c2140a554149850e01aa18b2bea645210345e92ef8d7d03efce3878360b0fc57bb82d5d291e9e483c296f409165b80121b53ae"
      },
      "sequence": 4294967295
    },
    {
      "txid": "aa9d14b180f967d85f579b7d90151e5f6f5c7dbf81198d2ca0411fbcb119470a",
      "vout": 0,
      "scriptSig": {
        "asm": "",
        "hex": ""
      },
      "txinwitness": [
        "304402200e9082682885eacee1f8c5381aa022d709af7ce2b5d36d2392c6756cd80c28ac0220358b6b255401ffcaa0d593715b85245fbe9a525a0ebe64793a41d017e816341f01",
        "031b6f543a2a7ddd2b1358a2b1bdbef666cb302904b53dfc2f066889e914e4bb5b"
      ],
      "sequence": 4294967295
    },
    {
      "txid": "89f1855f19cf3280aa842d1cb1e38442e98a47c475a1a340813bed5536f2ec6e",
      "vout": 0,
      "scriptSig": {
        "asm": "",
        "hex": ""
      },
      "txinwitness": [
        "",
        "304402206267cf7c180d2f1245955fbee57ae657cba0dc82e6a253d1b8ffbc3915af3df302203e2c1d241e8c152436d7fbc01b36beca1b98e98be990b03845c4d21a62b0d68501",
        "30440220278a80c5d9cf17b6e3486788dca63262407ab4999eb79521b92e18bb5a368ee002206139aabd54bf82e3482200e1c7c6940ef67045735198dcb6d2a99ab1828b468001",
        "52210380204524e4cf427a5a5da5826b531bc327c869230118433c5ab503544d1c1a652103efe8c25a79d87030ca57d1a630afd214bd7058563dcb35aee31f82bda571955b210290d9f66da40f2c4962b20d5a1e3ad6a3694fdfc60fef4df1126a9d54984b9e0b53ae"
      ],
      "sequence": 4294967295
    }
  ],
  "vout": [
    {
      "value": 0.00086000,
      "n": 0,
      "scriptPubKey": {
        "asm": "0 bcbc428f81a3c209f316e03fc46751ccd294709b",
        "desc": "addr(tb1qhj7y9rup50pqnuckuqluge63enffguymm7j5ue)#qxp8yjj5",
        "hex": "0014bcbc428f81a3c209f316e03fc46751ccd294709b",
        "address": "tb1qhj7y9rup50pqnuckuqluge63enffguymm7j5ue",
        "type": "witness_v0_keyhash"
      }
    }
  ]
}

```

### 署名済のトランザクションのブロードキャスト

```bash
bitcoin-core.cli sendrawtransaction 020000000001059c37889ca84172912da31ebe8a71de19680e75adf41da05dddb04d0d7f1c7008000000004847304402207af64ee819d4508afd2d87845f9b0b45bfff4d3b8b48ef6254696c6594e456f8022002754510969fc71f0d1e7dbff0fb7de5c1a3791fcaa510843b41f212238069cd01ffffffffc23e1e71e88ae22af278c688571b5e568ad7503467cf49f61286ffb1efc0e46a000000006a4730440220263aa6dbd8408800e6a02c9085ea6a444b2ab78891792eb57f49f4ade581431602207a5b3f18270f2ec0de58b07d6c274954aacb627eca381e568d937411feaf083401210222e18123552767a58da9f3749a4fd014fe991be3469d0ee01618080734ec6701ffffffff410da7b26546e5854949ff74456ac363a1e12cf934e1e3de8bdb2ff983a7faa000000000fc0047304402206e60f211d72c34c16be004e756ed490c5c79d376c479c146512c2487069781c602200473c8442b507fea1b7ee7274431698278c9893a8da1b6734ca444df7b2102aa0147304402200d844c231012bcc36a0774adf8677b948dd841838ae3ebb750ed497fc2a71314022073eace5173560c9f72bef661cbf80ea8f6594bb80bd4aa0c0d8eb96cb312cc6f014c6952210237a1e78baa7be5389c51f1836fb3b52c7163ea869281559c8ac94e69898793d42103ab2e94ae215cb3bdba9269588f32c8df33c2140a554149850e01aa18b2bea645210345e92ef8d7d03efce3878360b0fc57bb82d5d291e9e483c296f409165b80121b53aeffffffff0a4719b1bc1f41a02c8d1981bf7d5c6f5f1e15907d9b575fd867f980b1149daa0000000000ffffffff6eecf23655ed3b8140a3a175c4478ae94284e3b11c2d84aa8032cf195f85f1890000000000ffffffff01f04f010000000000160014bcbc428f81a3c209f316e03fc46751ccd294709b0000000247304402200e9082682885eacee1f8c5381aa022d709af7ce2b5d36d2392c6756cd80c28ac0220358b6b255401ffcaa0d593715b85245fbe9a525a0ebe64793a41d017e816341f0121031b6f543a2a7ddd2b1358a2b1bdbef666cb302904b53dfc2f066889e914e4bb5b040047304402206267cf7c180d2f1245955fbee57ae657cba0dc82e6a253d1b8ffbc3915af3df302203e2c1d241e8c152436d7fbc01b36beca1b98e98be990b03845c4d21a62b0d685014730440220278a80c5d9cf17b6e3486788dca63262407ab4999eb79521b92e18bb5a368ee002206139aabd54bf82e3482200e1c7c6940ef67045735198dcb6d2a99ab1828b4680016952210380204524e4cf427a5a5da5826b531bc327c869230118433c5ab503544d1c1a652103efe8c25a79d87030ca57d1a630afd214bd7058563dcb35aee31f82bda571955b210290d9f66da40f2c4962b20d5a1e3ad6a3694fdfc60fef4df1126a9d54984b9e0b53ae00000000
=>
11f36ca7c4840c2cd24dd58d061bd30ccad3a8e0885920dd6daca9c855372756
```
