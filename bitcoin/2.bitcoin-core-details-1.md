# 2. bitcoin core の詳細

2024/06/06  更新 Shigeichiro Yamasaki


* [メーリングリスト bitcoin-dev](https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev)
* [Slack: https://bitcoincore.slack.com/](https://bitcoincore.slack.com/)
* [BIP](https://github.com/bitcoin/bips)

## インストールすべきツール

### Ruby 言語

[Ruby インストール方法](https://github.com/ShigeichiroYamasaki/yamalabo/blob/master/ruby/ruby.md)



## 各種トランザクションの構成を一連の流れで演習します

以下のように，合計で８個のトランザクションを作成します．

ubuntu での実施を前提にします．

```

(UTXOの資金)--> TX1 -+-->0.0002BTC VOUT:0 -->TX2(P2PK)  --> 0.00018BTC-+
                    +-->0.0002BTC VOUT:1 -->TX3(P2PKH) --> 0.00018BTC-+
                    +-->0.0002BTC VOUT:2 -->TX4(P2SH)  --> 0.00018BTC-+
                    +-->0.0002BTC VOUT:3 -->TX5(P2WPKH)--> 0.00018BTC-+
                    +-->0.0002BTC VOUT:4 -->TX6(P2WSH) --> 0.00018BTC-+
                    +-->0.0002BTC VOUT:5 -->TX7(P2TR)  --> 0.00018BTC-+--> TX8
                    +-->おつり
```

0. 事前にsignetのfaucet から0.002 BTC 以上のビットコインを得ておきます。
1. TX1 faucetから得たUTXOをinputとして 7個のoutputを持つトランザクション (TX1) を作成し，署名して，ブロードキャストする
2. 6個のUTXOを利用して，6個のトランザクション (TX2 ~ TX7) を作成しそれぞれ署名して，ブロードキャストする

    ★ (TX2 ~ TX7) はそれぞれP2PK, P2PKH, P2SH, P2WPKH, P2WSH の5つのタイプのoutputを持つ
3. 6個のタイプの異なるUTXOをinputとして，１個のUTXOにまとめるトランザクション TX8 を作成する
    ★ P2SH, P2WSH のUTXOをワレットに認識させる必要があります。


## 目次

* [ descriptor ワレットの作成](#DESC)
* [6種類のアドレスの生成](#ADDR)
* [TX1: 7つのUTXOを生成する](#TX1)
* [TX3: P2PKH トランザクションの作成](#TX3)
* [TX4: P2SH トランザクションの作成](#TX4)
* [TX5: P2WPKH トランザクションの作成](#TX5)
* [TX6: P2WSH トランザクションの作成](#TX6)
* [TX7: P2TR トランザクションの作成](#TX7)
* [TX2: P2PK トランザクションの作成](#TX2)
* [TX8: 6種類の UTXO を inputとするトランザクションの作成](#TX8)


##  <a id="DESC"> </a>descriptor ワレットの作成

### UTXOの所有と discriptor

当初，ブロックチェーン上のデジタル資産であるUTXOの所有の概念は，主体の秘密鍵による計算能力の証明（デジタル署名など）中心に構成されていました．

しかし P2SH などのスクリプトへの送金の概念の登場によって秘密鍵だけでは所有の概念を表現できなくなりました．

そこで，自分が所有するUTXOを定義するために [BIP380](https://github.com/bitcoin/bips/blob/master/bip-0380.mediawiki) で output script descriptor という言語が提案されました．

### output script descriptor

output script descriptorは，Scirpt Experession、Key Expression，チェックサムの３要素で構成されています．

* Script Expression

    Bitcoinのスクリプトに直接対応する式。これらの式は関数として記述され、引数を取る

* Key Expression

    Script Expressionの引数としてよく使われる式に、Key Expressionがある。これは公開鍵または秘密鍵と、オプションとしてその鍵のオリジンに関する情報を表す

* チェックサム

  * hexエンコードされた公開鍵
  * WIFエンコードされた秘密鍵
  * xpubエンコードされた拡張公開鍵、もしくはxprvエンコードされた拡張秘密鍵

### descriptor の例

* 2-of-3 多重署名でロックされた P2SHタイプの output を表現する Descriptor の例

```json
sh(multi(2,037032106297741808e66c947dab836f3f3c28189596331e48861304674e2583d0,0210c7796ac91075ff6d4708319094707a976d265263cac42cc535104803439f84,0359ee82a3b3ec86bc8c29c149cacde7af2e00cd8952ee5767d6c221a2807c4094))#c968pfza
```

* 2-of-3 多重署名でロックされた P2WSHタイプの output を表現する Descriptor の例

```json
wsh(multi(2,037032106297741808e66c947dab836f3f3c28189596331e48861304674e2583d0,0210c7796ac91075ff6d4708319094707a976d265263cac42cc535104803439f84,0359ee82a3b3ec86bc8c29c149cacde7af2e00cd8952ee5767d6c221a2807c4094))#04tn9tty
```

### descriptor ワレットの作成

```
bitcoin-core.cli createwallet <ワレット名> <秘密鍵の無効化> <空ワレット> <パスフレーズ> <再利用禁止> <descripterの有効化> <起動時にロード> <外部署名の許可>
```

```bash
bitcoin-core.cli createwallet eve
bitcoin-core.cli createwallet alice 
```

```bash
bitcoin-core.cli listwallets

[
  "alice",
  "eve"
]
```

ワレットのアンロード

```bash
bitcoin-core.cli unloadwallet alice

bitcoin-core.cli listwallets

[
  "eve"
]

```

ワレットの情報

```bash
bitcoin-core.cli getwalletinfo
{
  "walletname": "eve",
  "walletversion": 169900,
  "format": "sqlite",
  "balance": 0.00000000,
  "unconfirmed_balance": 0.00000000,
  "immature_balance": 0.00000000,
  "txcount": 0,
  "keypoolsize": 4000,
  "keypoolsize_hd_internal": 4000,
  "paytxfee": 0.00000000,
  "private_keys_enabled": true,
  "avoid_reuse": false,
  "scanning": false,
  "descriptors": true,
  "external_signer": false,
  "blank": false,
  "birthtime": 1716908333,
  "lastprocessedblock": {
    "hash": "000000139bf3a0de1ae4acd7a7c0fc0fd02258f0665220eb2556d1b3ff9108b0",
    "height": 197570
  }
}

```

### 最初のアドレス（最初のUTXOの所有者）の生成

```bash
ALICE=`bitcoin-core.cli getnewaddress alice`

#確認
echo $ALICE
tb1qv99t3v4pck374la9k24namcetmk626sj4rmrsd
```

### faucet から aliceに入金

[signet faucet](https://signetfaucet.com/)

★ 10分後に確認 （20分以上かかることもあります）

コインの受領を待たずに，「６種類のビットコインアドレスの生成」などをすすめてください．

ちなみにコインが受領されると以下のような状態になります．

```bash
bitcoin-core.cli getbalance

0.01000000
```

## <a id="ADDR">6種類のビットコインアドレスの生成 </a>

6種類の outputのタイプへの送金には、それぞれ対応するアドレスタイプを持つ送金先アドレスが必要です。

以下に P2PK, P2PKH, P2SH, P2WPKH, P2WSH, P2TR の6タイプのアドレスを生成します．

#### getnewaddress コマンド

```bash
getnewaddress <ラベル> <アドレスタイプ>
```

アドレスタイプ

* legacy (base52アドレス）このタイプにさらに P2PKHとP2SHがあります
* bech32 (Bech32アドレス）このタイプにさらにP2WPKHとP2WSHがありあす
* p2sh-segwit (後方互換のため，Bech32アドレスをP2SHでラップしたアドレス)
* P2PK では、送金先の公開鍵がそのまま送金先アドレスになります

### P2PKアドレス

最も初期のアドレス形式です．

特別なアドレスフォーマットはなく，当事者の公開鍵がそのままアドレスになります

#### 公開鍵の確認方法

コマンドの文法

```
getaddressinfo <（自分のワレットの）ビットコインアドレス>
```


ここでは，P2WPKH として生成されたアドレスの情報から公開鍵を抜き出します．

```bash
BOB=`bitcoin-core.cli getnewaddress bob`

#確認
echo $BOB
tb1qc8yk8jz3jx4j6gpx55qrnjm54qrhexcaachwpd


bitcoin-core.cli getaddressinfo $BOB

{
  "address": "tb1qc8yk8jz3jx4j6gpx55qrnjm54qrhexcaachwpd",
  "scriptPubKey": "0014c1c963c85191ab2d2026a50039cb74a8077c9b1d",
  "ismine": true,
  "solvable": true,
  "desc": "wpkh([c4317781/84h/1h/0h/0/8]027dfa02138b7c86ad0901b4fb08718653f97e801df90110ddff322697cb107712)#npc0rxhz",
  "parent_desc": "wpkh([c4317781/84h/1h/0h]tpubDDThUseTsE7BrL9L7K6cNLBfSjLa8zdMVuqEfsiDjgv8WtkG3VScT9HJ8sKAfcWG8NoXD25bd5h8rNwGSep2frEdVtGfQm4n8mQYPjh2DHh/0/*)#w9yrknfc",
  "iswatchonly": false,
  "isscript": false,
  "iswitness": true,
  "witness_version": 0,
  "witness_program": "c1c963c85191ab2d2026a50039cb74a8077c9b1d",
  "pubkey": "027dfa02138b7c86ad0901b4fb08718653f97e801df90110ddff322697cb107712",
  "ischange": false,
  "timestamp": 1716908333,
  "hdkeypath": "m/84h/1h/0h/0/8",
  "hdseedid": "0000000000000000000000000000000000000000",
  "hdmasterfingerprint": "c4317781",
  "labels": [
    "bob"
  ]
}
```

公開鍵は  pubkey の部分です．

この公開鍵の情報を [jq コマンド](https://www.karakaram.com/notes-on-jq-command/) を利用して P2PK アドレスとしてシェル変数 P2PK_ADDR に代入しておきます

```bash
P2PK_ADDR=`bitcoin-core.cli getaddressinfo $BOB|jq -r '.pubkey'`

#確認
echo $P2PK_ADDR
027dfa02138b7c86ad0901b4fb08718653f97e801df90110ddff322697cb107712
```

### P2PKHアドレス

当事者の公開鍵のハッシュ値から生成され base52 エンコードしたアドレスです

シェル変数 P2PKH_ADDRに代入しておきます．

```bash
P2PKH_ADDR=`bitcoin-core.cli getnewaddress pkh_user legacy`

#確認
echo $P2PKH_ADDR
=>
mhAg6CF3VSE1htcQV2ShxRTsMgb2VCvqU4
```

### P2SHアドレス

当事者の公開鍵ではなく，bitcoin スクリプトのハッシュ値から生成されたアドレスです．

その典型例がマルチシグ（多重署名）用アドレスです。

#### マルチシグ用公開鍵のリストの作成

 
アドレスの生成には、n人の署名者たちの公開鍵が必要です。

ここでは P2PK と同様の方法で３人の公開鍵を生成し，シェル変数 PUBKEY1, PUBKEY2, PUBKEY3 に代入します．

```bash
SIGNER1=`bitcoin-core.cli getnewaddress signer1`
SIGNER2=`bitcoin-core.cli getnewaddress signer2`
SIGNER3=`bitcoin-core.cli getnewaddress signer3`

#確認
echo $SIGNER1
tb1qvavkv47h02fzyazh4ehr27yv2pgz4kaxc8fsfh
echo $SIGNER2
tb1qxaxs6e3sk9p60nynvdw7n5m8ea99deykdpdhj5
echo $SIGNER3
tb1qtg9shn2qdqntlu8x8uy46r2vj5er2vmjjn70z2

PUBKEY1=`bitcoin-core.cli getaddressinfo $SIGNER1|jq -r '.pubkey'`
PUBKEY2=`bitcoin-core.cli getaddressinfo $SIGNER2|jq -r '.pubkey'`
PUBKEY3=`bitcoin-core.cli getaddressinfo $SIGNER3|jq -r '.pubkey'`

#確認
echo $PUBKEY1
=> 
"0222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d0"
echo $PUBKEY2
=>
"031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa6"
echo $PUBKEY3
=>
"03b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda2"
```

#### マルチシグアドレスの生成

 m of n マルチシグ（n人の公開鍵の中でm人の署名があれば成功する署名）のためのアドレス生成です。
 
コマンドの文法

```
createmultisig <必要署名数 m> '[<公開鍵1>,<公開鍵2>,...,<公開鍵n>]' <アドレスタイプ>
```

 <アドレスタイプ> の指定によって　P2SH　と　P2WSH　が区別されます。

アドレスタイプ:  P2SH＝"legacy", P2SHのSegWitラップ="p2sh-segwit", P2WSH="bech32"

マルチシグアドレス生成結果

```json
{                            (json object)
  "address" : "str",         (string) The value of the new multisig address.
  "redeemScript" : "hex",    (string) The string value of the hex-encoded redemption script.
  "descriptor" : "str"       (string) The descriptor for this multisig
}
```

2 of 3 の場合

```bash
P2SH=`bitcoin-core.cli createmultisig 2 "[\"$PUBKEY1\",\"$PUBKEY2\",\"$PUBKEY3\"]" legacy`

#確認
echo $P2SH
=>
{ "address": "2N1RNSz42napit7vTh8ofvHw9bLhUQm38ej", "redeemScript": "52210222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d021031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa62103b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda253ae", "descriptor": "sh(multi(2,0222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d0,031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa6,03b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda2))#u0g002xf" }
```

ここでは，シェル変数 P2SH_ADDRに生成したアドレスを代入しておきます

```bash
P2SH_ADDR=`echo $P2SH|jq -r '.address'`

#確認
echo $P2SH_ADDR
=>
2N1RNSz42napit7vTh8ofvHw9bLhUQm38ej
```

#### P2SH redeemScript

P2SHのアウトプットをアンロックするには、redeemScriptが必要です

上記のマルチシグアドレス生成時に対応する redeemscriptも生成されています．

シェル変数 P2SH_REDEEMSCRIPT にその内容を代入しておきます

```bash
P2SH_REDEEMSCRIPT=`echo $P2SH|jq -r '.redeemScript'`

#確認
echo $P2SH_REDEEMSCRIPT
=>
52210222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d021031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa62103b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda253ae
```

#### P2SH descriptor

* P2SH でロックされているUTXOをアンロックするためには，まず第１段階として redeemscript とそのハッシュ値が必要です．

* 第２段階で，マルチシグの実際の署名を行う場所は署名者それぞれのワレットで， redeemScript に沿ってそれぞれの秘密鍵を使って署名を行います。

* それを可能にするためには、それぞれの署名者のワレットに redeemScript などの必要な情報を組み込む必要があります。

* descriptor　は、ワレットにマルチシグ署名のための情報を組み込むためのデータです。

ここでは，シェル変数 P2SH_DESCRIPTOR にその内容を代入しておきます．

```bash
P2SH_DESCRIPTOR=`echo $P2SH|jq -r '.descriptor'`

#確認
echo $P2SH_DESCRIPTOR
=>
sh(multi(2,0222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d0,031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa6,03b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda2))#u0g002xf
```

##### マルチシグアドレス生成の実際と公開鍵の提示

ここでの例では、複数のアドレスを一つのワレットで生成していますが、実際は複数の人のワレットで生成します。

上記のように、マルチシグアドレスの生成には公開鍵が必要です。

しかし、アドレスごとの公開鍵は非公開情報です。したがって、実際にマルチシグに参加する当事者がそれぞれ自分で自分の公開鍵を確認し、信頼できる第三者であるマルチシグアドレス生成者に提示する必要があります。


### P2WPKHアドレス 

Bech32アドレスの生成（受領者の公開鍵ハッシュの場合）

ここでは，シェル変数 P2WPKH_ADDR にアドレスを代入しておきます．

```bash
P2WPKH_ADDR=`bitcoin-core.cli getnewaddress wpkh_user bech32`

#確認
echo $P2WPKH_ADDR

=>
tb1qsadlntxhqp57e2wysnc08frl5g0rjwt63ask8j
```

### P2WSHアドレス

基本的にP2SHと同じです。


2 of 3 の場合

```bash
P2WSH=`bitcoin-core.cli createmultisig 2 "[\"$PUBKEY1\",\"$PUBKEY2\",\"$PUBKEY3\"]" bech32`

# 確認
echo $P2WSH
=>
{ "address": "tb1qjxhegc9wkpnum669mys9thnklg3yg8g5g6cst7t9hw76r4w3zdlq368yvl", "redeemScript": "52210222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d021031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa62103b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda253ae", "descriptor": "wsh(multi(2,0222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d0,031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa6,03b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda2))#v9yn6csx" }
```

ここではシェル変数 P2WSH_ADDR に内容を代入しておきます

```bash
P2WSH_ADDR=`echo $P2WSH|jq -r '.address'`

#確認
echo $P2WSH_ADDR
=>
tb1qjxhegc9wkpnum669mys9thnklg3yg8g5g6cst7t9hw76r4w3zdlq368yvl
```


#### P2WSH redeemScript

ここではシェル変数 P2WSH_REDEEMSCRIPT にその内容を代入しておきます

```bash
P2WSH_REDEEMSCRIPT=`echo $P2WSH|jq -r '.redeemScript'`

#確認
echo $P2WSH_REDEEMSCRIPT
=>
52210222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d021031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa62103b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda253ae
```

#### P2SH descriptor

ここでは，シェル変数 P2WSH_DESCRIPTOR にその内容を代入しておきます．

```bash
P2WSH_DESCRIPTOR=`echo $P2WSH|jq -r '.descriptor'`

#確認
echo $P2WSH_DESCRIPTOR
=>
wsh(multi(2,0222d0c39ad7c4d79f262a0e00a68a8a5ec7d88003c536f111d3748a95a19ee8d0,031f236a4ed80319f1594bfec0f85c1c7726cf635d1aab6e139e6070121720cfa6,03b5f744ea3a0117b4d1cea0e9c65cb892276ba3c4aa4356239d5d7d16ef68eda2))#v9yn6csx
```

### P2TRアドレス


Bech32m アドレスの生成（受領者の公開鍵）

ここでは，シェル変数 P2TR_ADDR にアドレスを代入しておきます．

getnewaddress コマンドでラベルの設定が必要です

```bash
P2TR_ADDR=`bitcoin-core.cli getnewaddress tr_user bech32m`

#確認
echo $P2TR_ADDR
=>
tb1p4ktga0tpgca3an3aheynpf46qtnf2xn6f74n38ktxtfc6pe3x33qzu0xsv
```

## <a id="TX1"> </a>7つのUTXOを生成する

まず，１個のUTXOを７つに分割するために，７つの送金先アドレスを生成します．

★ シェル変数にアドレスを代入しています．

```bash
USER1=`bitcoin-core.cli getnewaddress user1`
USER2=`bitcoin-core.cli getnewaddress user2`
USER3=`bitcoin-core.cli getnewaddress user3`
USER4=`bitcoin-core.cli getnewaddress user4`
USER5=`bitcoin-core.cli getnewaddress user5`
USER6=`bitcoin-core.cli getnewaddress user6`
```

生成したアドレスの確認

```bash
# 確認
echo $USER1
tb1q5sggtcvwl2tpzmys596unvzqd9h72ucz6aj9l9
echo $USER2
tb1qatvr408jwwarxlaktjelczru05xl6c2957myvh
echo $USER3
tb1qzgh8wj4ctnuf84sjpxevvyvzxw0hummxrxrhy9
echo $USER4
tb1qnnzndw3zzjdavlzvejpzj3lwlyvemjn2yyej9l
echo $USER5
tb1qzjcw568mpm5xewqn2pafef8hu05erqww492850
echo $USER6
tb1qskgu2jatdtpknvth2u4htw4mw47wnlwjukv23l
```

### 使用するUTXOを確認する

この例では、"amount": 0.0100000　を持つUTXOを利用しますが，以下では自分が所持している bitcoin の金額でトランザクションを作成してください．

使用する"txid" と "vout"と "amount" と "address" の値をメモしてください

#### UTXOの例

自分のUTXOを確認してください

★★（以下は例です，必ず自分のUTXOのものをチェックしてください！）


UTXOを複数所持している場合は，amount が 0.01 以上あるものを一つ選んでください．


★★ （ここではUTXOの 金額を 0.01 BTC にしていますが，それよりも多い場合は必ずおつりの計算を間違えないようにしてください！！）

★★ （おつりの計算を間違えると，失った所持金はマイナーの報酬になり，戻ってきません）


```bash
bitcoin-core.cli listunspent

# ここでの例
=>
[
  {
    "txid": "f66f7c67f0e2edab7d27d316662c31a9a5f33fe68dd9725854fe04bb7f23563f",
    "vout": 0,
    "address": "mzYqU8jSicpwstG9rA7jBrjgLVkzDPjo8J",
    "label": "user_p2pkh",
    "scriptPubKey": "76a914d0c58609bfeafe97668feab8f356eccc78346c0588ac",
    "amount": 0.00018000,
    "confirmations": 1491,
    "spendable": true,
    "solvable": true,
    "desc": "pkh([937090de/44h/1h/0h/0/0]03ca43b85715c22f748684bdf20870b0b5a858a69178a21b4a957ddfcbafea57d8)#l9r8akhc",
    "parent_descs": [
      "pkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/44h/1h/0h/0/*)#gg0qedgx"
    ],
    "safe": true
  },
  {
    "txid": "26e126db93063a4dcd4544cea1d2a0aeab1ee22e858213ac83ba1dcbaf3fd446",
    "vout": 0,
    "address": "tb1qjf9kvs5k698luqwhkl9jqtdujwnwrx0250mnda",
    "label": "bech32",
    "scriptPubKey": "0014924b664296d14ffe01d7b7cb202dbc93a6e199ea",
    "amount": 0.01000000,
    "confirmations": 2,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/23]028cc0c1f80aefad0aac92be01ca0f450818e4dca5e3c5b60e3849b6e5f032b9ac)#hulp44e3",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "0bec2ecf9561b081d13d4dd6909a79114fdd3b9d9bfcc515cf9de96ccb31aa2c",
    "vout": 0,
    "address": "tb1qjf9kvs5k698luqwhkl9jqtdujwnwrx0250mnda",
    "label": "bech32",
    "scriptPubKey": "0014924b664296d14ffe01d7b7cb202dbc93a6e199ea",
    "amount": 0.00018000,
    "confirmations": 1491,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/23]028cc0c1f80aefad0aac92be01ca0f450818e4dca5e3c5b60e3849b6e5f032b9ac)#hulp44e3",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 6,
    "address": "tb1qflzrst6q7pd5mfswluhruv8twqnpm49lqrhs9y",
    "label": "",
    "scriptPubKey": "00144fc4382f40f05b4da60eff2e3e30eb70261dd4bf",
    "amount": 0.00878000,
    "confirmations": 1546,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/0]031180c3c30b662433e49e7a81049361dbbfff662cef4256fbcbee403875f43b33)#9wux8ep7",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "0903ffacbb7f212d81902d54979409610dc4b2c594a66789f35866d14f4e3dc1",
    "vout": 0,
    "address": "tb1pzwmas3lmkrn63wtgulylmtx79fvg3x5e0d6u9g50l3y8c3k0hvxqez8qxa",
    "label": "",
    "scriptPubKey": "512013b7d847fbb0e7a8b968e7c9fdacde2a58889a997b75c2a28ffc487c46cfbb0c",
    "amount": 0.00018000,
    "confirmations": 1484,
    "spendable": true,
    "solvable": true,
    "desc": "tr([937090de/86h/1h/0h/0/2]ca1c9ea413d7508a75862b8b400ae90b18e79cfc6578c214a6df413c7d52fd03)#6gvty8zd",
    "parent_descs": [
      "tr(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/86h/1h/0h/0/*)#fyp9rl55"
    ],
    "safe": true
  }
]

```

この例では，UTXOの配列の２番目（インデックス１）のUTXOの "amount" が 0.01 BTC なので，これを使うことにします．

シェル変数への代入を使う場合は以下のようになります

```bash
UTXOS=`bitcoin-core.cli listunspent`
UTXO=`echo $UTXOS | jq -r '.[1]'`

# 確認
echo $UTXO

{ "txid": "26e126db93063a4dcd4544cea1d2a0aeab1ee22e858213ac83ba1dcbaf3fd446", "vout": 0, "address": "tb1qjf9kvs5k698luqwhkl9jqtdujwnwrx0250mnda", "label": "bech32", "scriptPubKey": "0014924b664296d14ffe01d7b7cb202dbc93a6e199ea", "amount": 0.01000000, "confirmations": 2, "spendable": true, "solvable": true, "desc": "wpkh([937090de/84h/1h/0h/0/23]028cc0c1f80aefad0aac92be01ca0f450818e4dca5e3c5b60e3849b6e5f032b9ac)#hulp44e3", "parent_descs": [ "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl" ], "safe": true }
```


自分のUTXOの txid , vout, address をシェル変数に代入します

```
TXID="<txidの内容>"
VOUT="<voutの内容>"
ADDRESS="<addressの内容>"
```

上記の例の場合
★（必ず自分のUTXOのものに置き換えてください）

```bash
TXID=`echo $UTXO|jq -r '.txid'`
VOUT=`echo $UTXO|jq -r '.vout'`
CHANGE_ADDRESS=`echo $UTXO|jq -r '.address'`

# 確認
echo $TXID
26e126db93063a4dcd4544cea1d2a0aeab1ee22e858213ac83ba1dcbaf3fd446

echo $VOUT
0

echo $CHANGE_ADDRESS
tb1qjf9kvs5k698luqwhkl9jqtdujwnwrx0250mnda
```

★ この CHANGE_ADDRESS に指定するアドレスは，UTXOを所有している自分のアドレスで，おつりとして取り戻すためのアドレスです．

### 6+1 個のoutputを持つトランザクションを作成する

* input として使用するUTXOの txid と vout
* output は、生成した5つのアドレスです
* 6つの送金先アドレスへの送金金額は，それぞれ 0.0002 とします．
* outputにはおつり用のアドレスがさらに一つ必要です．ここではUTXOの所有者にします．

#### おつりの計算

ここではトランザクション手数料は 0.00002 とします．

UTXOの資金を 0.01 BTC とすると

```
0.01 - (0.0002)*6 - 0.00002 =  0.00878
```

### 未署名トランザクションの作成

JSON形式で input と output を作成し，未署名のトランザクションを作成します

実行結果は 16進数形式です．

```bash
UNSIGNED_TX=`bitcoin-core.cli createrawtransaction "[{\"txid\":\"$TXID\",\"vout\":$VOUT}]" "[{\"$USER1\":0.0002},{\"$USER2\":0.0002},{\"$USER3\":0.0002},{\"$USER4\":0.0002},{\"$USER5\":0.0002},{\"$USER6\":0.0002},{\"$CHANGE_ADDRESS\":0.00878}]"`

# 確認
echo $UNSIGNED_TX
=>
0200000001ffcdc1652098ad9f3654bd6d7c45ff753717cee7a65bad2a6e1c9a98326150a30000000000fdffffff07204e000000000000160014e45018208132700164dedd48ec2aa02da6e33b67204e000000000000160014b9fbf4a0356203937477ec684ab3932d429b07cb204e000000000000160014d65518f36391977934d620968e20d26004951b12204e000000000000160014d721c1cffb72d43de5b0751ceec298054777b129204e000000000000160014d3cd3adb6fc3c6473f4f37fded924649d01e3f18204e0000000000001600146224919b7470a13c87b979ad659736d8cdcf8fcbb0650d00000000001600144fc4382f40f05b4da60eff2e3e30eb70261dd4bf00000000
```

作成したトランザクションの確認

```bash
bitcoin-core.cli decoderawtransaction $UNSIGNED_TX

=>
{
  "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
  "hash": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
  "version": 2,
  "size": 268,
  "vsize": 268,
  "weight": 1072,
  "locktime": 0,
  "vin": [
    {
      "txid": "a3506132989a1c6e2aad5ba6e7ce173775ff457c6dbd54369fad982065c1cdff",
      "vout": 0,
      "scriptSig": {
        "asm": "",
        "hex": ""
      },
      "sequence": 4294967293
    }
  ],
  "vout": [
    {
      "value": 0.00020000,
      "n": 0,
      "scriptPubKey": {
        "asm": "0 e45018208132700164dedd48ec2aa02da6e33b67",
        "desc": "addr(tb1qu3gpsgypxfcqzex7m4ywc24q9knwxwm8lnsxpe)#p3vgdq3y",
        "hex": "0014e45018208132700164dedd48ec2aa02da6e33b67",
        "address": "tb1qu3gpsgypxfcqzex7m4ywc24q9knwxwm8lnsxpe",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 1,
      "scriptPubKey": {
        "asm": "0 b9fbf4a0356203937477ec684ab3932d429b07cb",
        "desc": "addr(tb1qh8alfgp4vgpexarha35y4vun94pfkp7tv3w9yx)#twmy7fz9",
        "hex": "0014b9fbf4a0356203937477ec684ab3932d429b07cb",
        "address": "tb1qh8alfgp4vgpexarha35y4vun94pfkp7tv3w9yx",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 2,
      "scriptPubKey": {
        "asm": "0 d65518f36391977934d620968e20d26004951b12",
        "desc": "addr(tb1q6e233umrjxthjdxkyztgugxjvqzf2xcj0zmz4r)#uj4raxft",
        "hex": "0014d65518f36391977934d620968e20d26004951b12",
        "address": "tb1q6e233umrjxthjdxkyztgugxjvqzf2xcj0zmz4r",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 3,
      "scriptPubKey": {
        "asm": "0 d721c1cffb72d43de5b0751ceec298054777b129",
        "desc": "addr(tb1q6usurnlmwt2rmedsw5wwas5cq4rh0vffcvfqjz)#9cyy265r",
        "hex": "0014d721c1cffb72d43de5b0751ceec298054777b129",
        "address": "tb1q6usurnlmwt2rmedsw5wwas5cq4rh0vffcvfqjz",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 4,
      "scriptPubKey": {
        "asm": "0 d3cd3adb6fc3c6473f4f37fded924649d01e3f18",
        "desc": "addr(tb1q60xn4km0c0ryw060xl77myjxf8gpu0ccxm8q7n)#s2t6ysk2",
        "hex": "0014d3cd3adb6fc3c6473f4f37fded924649d01e3f18",
        "address": "tb1q60xn4km0c0ryw060xl77myjxf8gpu0ccxm8q7n",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 5,
      "scriptPubKey": {
        "asm": "0 6224919b7470a13c87b979ad659736d8cdcf8fcb",
        "desc": "addr(tb1qvgjfrxm5wzsnepae0xkkt9ekmrxulr7t530xek)#slfte7jy",
        "hex": "00146224919b7470a13c87b979ad659736d8cdcf8fcb",
        "address": "tb1qvgjfrxm5wzsnepae0xkkt9ekmrxulr7t530xek",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00878000,
      "n": 6,
      "scriptPubKey": {
        "asm": "0 4fc4382f40f05b4da60eff2e3e30eb70261dd4bf",
        "desc": "addr(tb1qflzrst6q7pd5mfswluhruv8twqnpm49lqrhs9y)#ukrvlu5l",
        "hex": "00144fc4382f40f05b4da60eff2e3e30eb70261dd4bf",
        "address": "tb1qflzrst6q7pd5mfswluhruv8twqnpm49lqrhs9y",
        "type": "witness_v0_keyhash"
      }
    }
  ]
}
```

### 作成したトランザクションに署名する

```bash
SIGNED_TX=`bitcoin-core.cli signrawtransactionwithwallet $UNSIGNED_TX`

# 確認
echo $SIGNED_TX
=>
{ "hex": "0200000000010146d43fafcb1dba83ac1382852ee21eabaea0d2a1ce4445cd4d3a0693db26e1260000000000fdffffff07204e00000000000016001440cdbc3a8780d4e0514c4ae1165b0e03d8ad019c204e0000000000001600146282810ae751b24507e5c53b4759bd11b8d5c80d204e00000000000016001436097b215e8112dd5c9d7eb126018a6e1183ea67204e000000000000160014d235874a942c9c5ad1a8a299a74f5ac4ced5920c204e000000000000160014bcd906fc75547e93c6d8892a5e693edbb75e5555204e000000000000160014d4db56c4204a9ef863167ca79f7803a0254c35b4b0650d0000000000160014924b664296d14ffe01d7b7cb202dbc93a6e199ea0247304402203f3512f733a200c8e093ae22276a681efc7af88252a0978f615e03dc681c011e02205797c8db13f95ee65f4137115bb372979d2f7b73b10403d0f1be6d978942ea6d0121028cc0c1f80aefad0aac92be01ca0f450818e4dca5e3c5b60e3849b6e5f032b9ac00000000", "complete": true }

```

署名したトランザクションの16進数形式内容の確認（hex の値）

```bash
SIGNED_TX_HEX=`echo $SIGNED_TX|jq -r '.hex'`

# 確認
echo $SIGNED_TX_HEX
=>
0200000000010146d43fafcb1dba83ac1382852ee21eabaea0d2a1ce4445cd4d3a0693db26e1260000000000fdffffff07204e00000000000016001440cdbc3a8780d4e0514c4ae1165b0e03d8ad019c204e0000000000001600146282810ae751b24507e5c53b4759bd11b8d5c80d204e00000000000016001436097b215e8112dd5c9d7eb126018a6e1183ea67204e000000000000160014d235874a942c9c5ad1a8a299a74f5ac4ced5920c204e000000000000160014bcd906fc75547e93c6d8892a5e693edbb75e5555204e000000000000160014d4db56c4204a9ef863167ca79f7803a0254c35b4b0650d0000000000160014924b664296d14ffe01d7b7cb202dbc93a6e199ea0247304402203f3512f733a200c8e093ae22276a681efc7af88252a0978f615e03dc681c011e02205797c8db13f95ee65f4137115bb372979d2f7b73b10403d0f1be6d978942ea6d0121028cc0c1f80aefad0aac92be01ca0f450818e4dca5e3c5b60e3849b6e5f032b9ac00000000

```

★ txinwitness 領域が作成されていることを確認する

```bash
bitcoin-core.cli  decoderawtransaction $SIGNED_TX_HEX

=>
{
  "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
  "hash": "b4254314aa0cff6758ed2d5987d6950fe24d9d290ce7f73fbfb0b38b7a3a7138",
  "version": 2,
  "size": 377,
  "vsize": 296,
  "weight": 1181,
  "locktime": 0,
  "vin": [
    {
      "txid": "a3506132989a1c6e2aad5ba6e7ce173775ff457c6dbd54369fad982065c1cdff",
      "vout": 0,
      "scriptSig": {
        "asm": "",
        "hex": ""
      },
      "txinwitness": [
        "304402206cc0bf729c34bf4d89d9a1ed577f6b471c0feae3c34eaba4e5f9484fa9325e14022045cde35b3627beac8ab51b67cdcc18d8bc3bc230791e31a9f37e7d9b6373e07a01",
        "031180c3c30b662433e49e7a81049361dbbfff662cef4256fbcbee403875f43b33"
      ],
      "sequence": 4294967293
    }
  ],
  "vout": [
    {
      "value": 0.00020000,
      "n": 0,
      "scriptPubKey": {
        "asm": "0 e45018208132700164dedd48ec2aa02da6e33b67",
        "desc": "addr(tb1qu3gpsgypxfcqzex7m4ywc24q9knwxwm8lnsxpe)#p3vgdq3y",
        "hex": "0014e45018208132700164dedd48ec2aa02da6e33b67",
        "address": "tb1qu3gpsgypxfcqzex7m4ywc24q9knwxwm8lnsxpe",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 1,
      "scriptPubKey": {
        "asm": "0 b9fbf4a0356203937477ec684ab3932d429b07cb",
        "desc": "addr(tb1qh8alfgp4vgpexarha35y4vun94pfkp7tv3w9yx)#twmy7fz9",
        "hex": "0014b9fbf4a0356203937477ec684ab3932d429b07cb",
        "address": "tb1qh8alfgp4vgpexarha35y4vun94pfkp7tv3w9yx",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 2,
      "scriptPubKey": {
        "asm": "0 d65518f36391977934d620968e20d26004951b12",
        "desc": "addr(tb1q6e233umrjxthjdxkyztgugxjvqzf2xcj0zmz4r)#uj4raxft",
        "hex": "0014d65518f36391977934d620968e20d26004951b12",
        "address": "tb1q6e233umrjxthjdxkyztgugxjvqzf2xcj0zmz4r",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 3,
      "scriptPubKey": {
        "asm": "0 d721c1cffb72d43de5b0751ceec298054777b129",
        "desc": "addr(tb1q6usurnlmwt2rmedsw5wwas5cq4rh0vffcvfqjz)#9cyy265r",
        "hex": "0014d721c1cffb72d43de5b0751ceec298054777b129",
        "address": "tb1q6usurnlmwt2rmedsw5wwas5cq4rh0vffcvfqjz",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 4,
      "scriptPubKey": {
        "asm": "0 d3cd3adb6fc3c6473f4f37fded924649d01e3f18",
        "desc": "addr(tb1q60xn4km0c0ryw060xl77myjxf8gpu0ccxm8q7n)#s2t6ysk2",
        "hex": "0014d3cd3adb6fc3c6473f4f37fded924649d01e3f18",
        "address": "tb1q60xn4km0c0ryw060xl77myjxf8gpu0ccxm8q7n",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00020000,
      "n": 5,
      "scriptPubKey": {
        "asm": "0 6224919b7470a13c87b979ad659736d8cdcf8fcb",
        "desc": "addr(tb1qvgjfrxm5wzsnepae0xkkt9ekmrxulr7t530xek)#slfte7jy",
        "hex": "00146224919b7470a13c87b979ad659736d8cdcf8fcb",
        "address": "tb1qvgjfrxm5wzsnepae0xkkt9ekmrxulr7t530xek",
        "type": "witness_v0_keyhash"
      }
    },
    {
      "value": 0.00878000,
      "n": 6,
      "scriptPubKey": {
        "asm": "0 4fc4382f40f05b4da60eff2e3e30eb70261dd4bf",
        "desc": "addr(tb1qflzrst6q7pd5mfswluhruv8twqnpm49lqrhs9y)#ukrvlu5l",
        "hex": "00144fc4382f40f05b4da60eff2e3e30eb70261dd4bf",
        "address": "tb1qflzrst6q7pd5mfswluhruv8twqnpm49lqrhs9y",
        "type": "witness_v0_keyhash"
      }
    }
  ]
}

```

### 署名したトランザクションをブロードキャストする

返り値のトランザクションIDをメモする

```bash
bitcoin-core.cli sendrawtransaction $SIGNED_TX_HEX

=>
5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f
```

### 送信したトランザクションを確認する

引数のトランザクションIDは，自分が送信したトランザクションIDにしてください

```bash
bitcoin-core.cli gettransaction 5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f
```

### 10分以上経過後，UTXOのリストを確認する

UTXOの数が増えていることを確認します．

```bash
bitcoin-core.cli listunspent

=>
[
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 0,
    "address": "tb1qu3gpsgypxfcqzex7m4ywc24q9knwxwm8lnsxpe",
    "label": "user1",
    "scriptPubKey": "0014e45018208132700164dedd48ec2aa02da6e33b67",
    "amount": 0.00020000,
    "confirmations": 8,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/11]039631ab36ba50c053d8de05574ee58cfd7aa641922787c1c2a326225f1fbeea47)#q25z3jjf",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 1,
    "address": "tb1qh8alfgp4vgpexarha35y4vun94pfkp7tv3w9yx",
    "label": "user2",
    "scriptPubKey": "0014b9fbf4a0356203937477ec684ab3932d429b07cb",
    "amount": 0.00020000,
    "confirmations": 8,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/12]0210e44d1d3a06d365b1e641688584be544824d7fad4d79830117c532f90266436)#c9fzm06u",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 2,
    "address": "tb1q6e233umrjxthjdxkyztgugxjvqzf2xcj0zmz4r",
    "label": "user3",
    "scriptPubKey": "0014d65518f36391977934d620968e20d26004951b12",
    "amount": 0.00020000,
    "confirmations": 8,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/13]035239383d7c6bd47b272c373ef02cf9b3943fc08bd218fd1522429da3c008fe88)#lwxunh7a",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 3,
    "address": "tb1q6usurnlmwt2rmedsw5wwas5cq4rh0vffcvfqjz",
    "label": "user4",
    "scriptPubKey": "0014d721c1cffb72d43de5b0751ceec298054777b129",
    "amount": 0.00020000,
    "confirmations": 8,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/14]0342fc43d4b46b3498b75dd5fa5bfedef1c090414cacb56c8551fe52f24e296d21)#l8n8axry",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 4,
    "address": "tb1q60xn4km0c0ryw060xl77myjxf8gpu0ccxm8q7n",
    "label": "user5",
    "scriptPubKey": "0014d3cd3adb6fc3c6473f4f37fded924649d01e3f18",
    "amount": 0.00020000,
    "confirmations": 8,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/15]03c900a0f1c139eeb3e0fb30a83fd649c7d2de9fe0598641dfac080c4b0026bcd0)#emen64rw",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 5,
    "address": "tb1qvgjfrxm5wzsnepae0xkkt9ekmrxulr7t530xek",
    "label": "user6",
    "scriptPubKey": "00146224919b7470a13c87b979ad659736d8cdcf8fcb",
    "amount": 0.00020000,
    "confirmations": 8,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/16]0275451ad763853e8a3f0dbc608cc354282b6a0da0eb02a0508b50b11812636bd7)#d6965ayc",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  },
  {
    "txid": "5ec355265c0dcddb3e71a1888d5b511e6afb26da9f225fca1551915576fd460f",
    "vout": 6,
    "address": "tb1qflzrst6q7pd5mfswluhruv8twqnpm49lqrhs9y",
    "label": "",
    "scriptPubKey": "00144fc4382f40f05b4da60eff2e3e30eb70261dd4bf",
    "amount": 0.00878000,
    "confirmations": 8,
    "spendable": true,
    "solvable": true,
    "desc": "wpkh([937090de/84h/1h/0h/0/0]031180c3c30b662433e49e7a81049361dbbfff662cef4256fbcbee403875f43b33)#9wux8ep7",
    "parent_descs": [
      "wpkh(tpubD6NzVbkrYhZ4YbFapq62MDLBVude54h2m2seJRgt5oKqRSX52nft4uGXQrQ34XVZfZc877UTb5EzLVPJ7MYh8YB4vYXwho56sDwc5jCKhs4/84h/1h/0h/0/*)#2jvtrjwl"
    ],
    "safe": true
  }
]
```

